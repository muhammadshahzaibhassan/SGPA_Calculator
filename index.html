<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <title>SGPA Calculator</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap');
    
    :root {
      --glass-blur: 12px;
      --glass-saturate: 180%;
      --glass-brightness: 100%;
      --glass-bg-light: rgba(255, 255, 255, 0.25);
      --glass-bg-dark: rgba(30, 30, 30, 0.25);
      --glass-border-light: rgba(255, 255, 255, 0.18);
      --glass-border-dark: rgba(0, 0, 0, 0.18);
    }
    
    body {
      background-image: url( '/blob-scene-haikei.svg' );
      font-family: 'Poppins', sans-serif;
      /*background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);*/
      min-height: 100vh;
      padding: 20px;
      margin: 0;
      background-attachment: fixed;
    }

    .container {
      max-width: 600px;
      margin: 0 auto;
      padding: 25px;
      border-radius: 16px;
      backdrop-filter: blur(var(--glass-blur)) saturate(var(--glass-saturate)) brightness(var(--glass-brightness));
      -webkit-backdrop-filter: blur(var(--glass-blur)) saturate(var(--glass-saturate)) brightness(var(--glass-brightness));
      background-color: var(--glass-bg-light);
      border: 1px solid var(--glass-border-light);
      box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
      transition: all 0.5s ease;
    }

    /* Glass Form Elements */
    input, select, button {
      padding: 12px 15px;
      margin: 8px 0;
      width: 100%;
      box-sizing: border-box;
      border-radius: 8px;
      border: 1px solid rgba(255, 255, 255, 0.3);
      background: rgba(255, 255, 255, 0.1);
      color: #fff;
      font-size: 16px;
      transition: all 0.3s ease;
      backdrop-filter: blur(5px);
    }

    input::placeholder {
      color: rgba(255, 255, 255, 0.7);
    }

    input:focus, select:focus {
      outline: none;
      border-color: rgba(255, 255, 255, 0.5);
      background: rgba(255, 255, 255, 0.2);
      box-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
    }

    button {
      background: linear-gradient(135deg, rgba(52, 152, 219, 0.8), rgba(41, 128, 185, 0.8));
      color: white;
      border: none;
      cursor: pointer;
      font-weight: 500;
      letter-spacing: 0.5px;
      margin-top: 10px;
    }

    button:hover {
      background: linear-gradient(135deg, rgba(52, 152, 219, 1), rgba(41, 128, 185, 1));
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    h2 {
      text-align: center;
      color: white;
      margin-bottom: 25px;
      font-weight: 600;
      text-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }

    /* Glass Table */
    table {
      width: 100%;
      margin-top: 25px;
      border-collapse: collapse;
      border-radius: 12px;
      overflow: hidden;
      backdrop-filter: blur(var(--glass-blur));
      background: rgba(255, 255, 255, 0.15);
      border: 1px solid rgba(255, 255, 255, 0.2);
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    }

    th {
      background: rgba(255, 255, 255, 0.2);
      color: white;
      font-weight: 500;
      padding: 12px;
      text-align: center;
    }

    td {
      padding: 12px;
      text-align: center;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      color: white;
    }

    tr:hover {
      background: rgba(255, 255, 255, 0.1);
    }

    .result {
      margin: 25px 0;
      text-align: center;
      font-size: 1.8em;
      font-weight: 600;
      color: white;
      text-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease;
    }

    /* Dark Mode Adjustments */
    .dark-mode {
      background-image: url( '/blob-scene-haikei.svg' );
    }

    .dark-mode .container {
      background-color: var(--glass-bg-dark);
      border-color: var(--glass-border-dark);
    }

    .dark-mode input,
    .dark-mode select {
      background: rgba(0, 0, 0, 0.2);
      border-color: rgba(0, 0, 0, 0.3);
      color: #f0f0f0;
    }

    .dark-mode table {
      background: rgba(0, 0, 0, 0.15);
    }

    .dark-mode th {
      background: rgba(0, 0, 0, 0.25);
    }

    footer {
      margin-top: 30px;
      text-align: center;
      color: rgba(255, 255, 255, 0.7);
      font-size: 0.9em;
    }

    /* Delete button styling */
    .delete-btn {
      background: rgba(231, 76, 60, 0.8) !important;
      padding: 5px 10px !important;
      border-radius: 6px !important;
    }

    .delete-btn:hover {
      background: rgba(231, 76, 60, 1) !important;
    }

    /* Reset button styling */
    .reset-btn {
      background: rgba(136, 136, 136, 0.8) !important;
    }

    .reset-btn:hover {
      background: rgba(136, 136, 136, 1) !important;
    }
  </style>
</head>

<body>
  <div class="container">
    <h2>SGPA Calculator</h2>
    <label style="color: #f0f0f0;" for="subject">Subject Name:</label>
    <input type="text" id="subject" placeholder="e.g. Mathematics">

    <label style="color: #f0f0f0;" for="grade">Grade:</label>
    <select id="grade">
      <option style="color: #000000;" value="4">A</option>
      <option style="color: #000000;" value="3.5">B+</option>
      <option style="color: #000000;" value="3">B</option>
      <option style="color: #000000;" value="2.5">C+</option>
      <option style="color: #000000;" value="2">C</option>
      <option style="color: #000000;" value="1.5">D+</option>
      <option style="color: #000000;" value="1">D</option>
      <option style="color: #000000;" value="0">F</option>
    </select>

    <label style="color: #f0f0f0;" for="credits">Credit Hours:</label>
    <input type="number" id="credits" min="1" max="5" placeholder="e.g. 3">

    <button onclick="addSubject()"><i class="fas fa-plus"></i> Add Subject</button>
    <button onclick="resetAll()" class="reset-btn"><i class="fas fa-trash-alt"></i> Reset All</button>
    <button onclick="toggleTheme()"><i class="fas fa-moon"></i> Toggle Theme</button>

    <div class="result" id="gpaResult">GPA: 0.00</div>

    <table id="subjectsTable">
      <thead>
        <tr>
          <th>Subject</th>
          <th>Grade</th>
          <th>Credit Hours</th>
          <th>Delete</th>
        </tr>
      </thead>
      <tbody>
        <!-- Subjects will be added here -->
      </tbody>
    </table>
  </div>

  <script>
    let subjects = [];
    let darkMode = JSON.parse(localStorage.getItem('darkMode')) || false;

    // Apply dark mode if enabled
    if (darkMode) {
      document.body.classList.add('dark-mode');
    }

    function getGradeLetter(grade) {
      switch (grade) {
        case 4: return 'A';
        case 3.5: return 'B+';
        case 3: return 'B';
        case 2.5: return 'C+';
        case 2: return 'C';
        case 1.5: return 'D+';
        case 1: return 'D';
        default: return 'F';
      }
    }

    function addSubject() {
      const subject = document.getElementById('subject').value.trim();
      const grade = parseFloat(document.getElementById('grade').value);
      const credits = parseInt(document.getElementById('credits').value);

      if (subject === '' || isNaN(grade) || isNaN(credits)) {
        alert("Please fill in all fields correctly.");
        return;
      }

      subjects.push({ subject, grade, credits });
      document.getElementById('subject').value = '';
      document.getElementById('credits').value = '';

      updateTable();
      calculateGPA();
      document.getElementById('subject').focus();
    }

    function updateTable() {
      const tbody = document.querySelector("#subjectsTable tbody");
      tbody.innerHTML = '';

      subjects.forEach((s, index) => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${s.subject}</td>
          <td>${getGradeLetter(s.grade)}</td>
          <td>${s.credits}</td>
          <td><button onclick="removeSubject(${index})" class="delete-btn"><i class="fas fa-trash"></i></button></td>
        `;
        tbody.appendChild(row);
      });
    }

    function removeSubject(index) {
      subjects.splice(index, 1);
      updateTable();
      calculateGPA();
    }

    function calculateGPA() {
      let totalPoints = 0;
      let totalCredits = 0;

      subjects.forEach(s => {
        totalPoints += s.grade * s.credits;
        totalCredits += s.credits;
      });

      const gpa = totalCredits ? (totalPoints / totalCredits).toFixed(2) : '0.00';
      const resultElement = document.getElementById('gpaResult');
      resultElement.innerText = `GPA: ${gpa}`;

      // Color coding based on GPA
      resultElement.style.color =
        gpa >= 3.5 ? '#a1ffa1' :  // Light green
        gpa >= 2.5 ? '#ffd166' :  // Yellow
        '#ff6b6b';                // Red

      // Animation
      resultElement.style.transform = 'scale(1.1)';
      setTimeout(() => {
        resultElement.style.transform = 'scale(1)';
      }, 300);
    }

    function toggleTheme() {
      darkMode = !darkMode;
      document.body.classList.toggle('dark-mode', darkMode);
      localStorage.setItem('darkMode', darkMode);
    }

    function resetAll() {
      if (confirm("Are you sure you want to clear all subjects and GPA?")) {
        subjects = [];
        updateTable();
        calculateGPA();
      }
    }

    // Add subject on Enter key press
    document.addEventListener("keydown", function (e) {
      if (e.key === "Enter" && document.activeElement.tagName !== "TEXTAREA") {
        addSubject();
      }
    });

    // Focus on first input when page loads
    window.onload = function() {
      document.getElementById('subject').focus();
    };
  </script>
  <footer>
    &copy; 2025 SGPA Calculator by Shahzaib. All rights reserved.
  </footer>
</body>
</html>
